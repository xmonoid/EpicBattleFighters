<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        body {
            background-color: black
        }
        .parent {
            display: grid;
            height: 100%;
        }
        .background {
            position: relative;
            max-width: 100%;
            max-height: 100vh;
            margin: auto;
        }
        .fighterLeft {
            position: absolute;
            bottom: 90px;
            left: 30px;
            height: 70%;
        }
        .fighterRight {
            position: absolute;
            bottom: 90px;
            right: 30px;
            height: 70%;
        }
        #left-winner {
            position: absolute;
            top: 0px;
            left: 0px;
        }
        #right-winner {
            position: absolute;
            top: 0px;
            right: 0px;
        }
    </style>
    <script th:src="@{/js/jquery-3.7.1.min.js}" type="text/javascript"></script>
    <script type="text/javascript">
        function onLoad() {
            var backgroundImageName;
            var fighterLeftImageName;
            var fighterRightImageName;
            var leftWins = false;
            var rightWins = false;
            $.ajax({
                async: false,
                url: "image/list",
                success: function( result ) {
                    console.log("result = " + result);
                    const data = JSON.parse(result);

                        backgroundImageName = data.background;
                        fighterLeftImageName = data.fighterLeft;
                        fighterRightImageName = data.fighterRight;
                        leftWins = data.leftWins;
                        rightWins = data.rightWins;
                }
            });

            var background = document.getElementById("background");
            background.src = "image/" + backgroundImageName;

            var fighterLeft = document.getElementById("fighterLeft");
            fighterLeft.src = "image/" + fighterLeftImageName;

            const fighterRight = document.getElementById("fighterRight");
            fighterRight.src = "image/" + fighterRightImageName;

            const leftWinner = document.getElementById("left-winner");
            if (leftWins) {
                leftWinner.src = "image/Winner"
            } else {
                leftWinner.src = "image/Nobody"
            }

            const rightWinner = document.getElementById("right-winner");
            if (rightWins) {
                rightWinner.src = "image/Winner"
            } else {
                rightWinner.src = "image/Nobody"
            }
        }
        setInterval(onLoad, 1000);
    </script>
</head>
<body onload="onLoad();">
<div class="parent">
    <img id="background" class="background"/>
    <img id="left-winner" class="winner"/>
    <img id="fighterLeft" class="fighterLeft"/>
    <img id="right-winner" class="winner"/>
    <img id="fighterRight" class="fighterRight"/>
</div>
</body>
</html>